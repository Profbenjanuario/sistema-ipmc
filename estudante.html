<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel do Estudante - Sistema IPMC</title>
    <style>
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Arial', sans-serif;
            background: #f5f6fa;
            color: #333;
        }

        .dashboard-container {
            display: flex;
            flex-direction: column;
            min-height: 100vh;
        }

        /* Header */
        .dashboard-header {
            background: linear-gradient(135deg, #667eea 0%, #764ba2 100%);
            color: white;
            padding: 1rem 2rem;
            display: flex;
            justify-content: space-between;
            align-items: center;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .header-left h1 {
            font-size: 1.5rem;
            font-weight: 600;
        }

        .header-right {
            display: flex;
            align-items: center;
            gap: 1rem;
        }

        .logout-btn {
            background: rgba(255,255,255,0.2);
            color: white;
            border: 1px solid rgba(255,255,255,0.3);
            padding: 0.5rem 1rem;
            border-radius: 5px;
            cursor: pointer;
            transition: background 0.3s;
        }

        .logout-btn:hover {
            background: rgba(255,255,255,0.3);
        }

        /* Dashboard Content */
        .dashboard-content {
            display: flex;
            flex: 1;
        }

        /* Sidebar */
        .sidebar {
            width: 250px;
            background: white;
            box-shadow: 2px 0 10px rgba(0,0,0,0.1);
            padding: 2rem 0;
        }

        .sidebar ul {
            list-style: none;
        }

        .sidebar li {
            margin-bottom: 0.5rem;
        }

        .nav-link {
            display: block;
            padding: 1rem 2rem;
            color: #333;
            text-decoration: none;
            transition: all 0.3s;
            border-left: 4px solid transparent;
        }

        .nav-link:hover,
        .nav-link.active {
            background: #f8f9fa;
            border-left-color: #667eea;
            color: #667eea;
        }

        /* Main Content */
        .main-content {
            flex: 1;
            padding: 2rem;
            background: #f8f9fa;
        }

        .content-section {
            display: none;
        }

        .content-section.active {
            display: block;
        }

        /* Info Cards */
        .info-card {
            background: white;
            padding: 2rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            margin-bottom: 2rem;
        }

        .info-card h3 {
            margin-bottom: 1rem;
            color: #333;
            border-bottom: 2px solid #667eea;
            padding-bottom: 0.5rem;
        }

        .info-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(200px, 1fr));
            gap: 1rem;
        }

        .info-item {
            display: flex;
            flex-direction: column;
        }

        .info-label {
            font-weight: 600;
            color: #666;
            font-size: 0.9rem;
            margin-bottom: 0.25rem;
        }

        .info-value {
            color: #333;
            font-size: 1rem;
        }

        /* Notas Table */
        .notas-table {
            width: 100%;
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            overflow: hidden;
            margin-bottom: 2rem;
        }

        .notas-table th,
        .notas-table td {
            padding: 1rem;
            text-align: left;
            border-bottom: 1px solid #e1e5e9;
        }

        .notas-table th {
            background: #f8f9fa;
            font-weight: 600;
            color: #333;
        }

        .notas-table tr:hover {
            background: #f8f9fa;
        }

        .nota-baixa {
            color: #dc3545;
            font-weight: 600;
        }

        .nota-media {
            color: #ffc107;
            font-weight: 600;
        }

        .nota-alta {
            color: #28a745;
            font-weight: 600;
        }

        /* Financeiro */
        .financeiro-grid {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(300px, 1fr));
            gap: 1.5rem;
        }

        .financeiro-card {
            background: white;
            padding: 1.5rem;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
        }

        .financeiro-card h4 {
            margin-bottom: 1rem;
            color: #333;
        }

        .status-pago {
            color: #28a745;
            font-weight: 600;
        }

        .status-pendente {
            color: #dc3545;
            font-weight: 600;
        }

        /* Atrasos */
        .atrasos-list {
            background: white;
            border-radius: 10px;
            box-shadow: 0 2px 10px rgba(0,0,0,0.1);
            padding: 1.5rem;
        }

        .atraso-item {
            padding: 1rem;
            border-bottom: 1px solid #e1e5e9;
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .atraso-item:last-child {
            border-bottom: none;
        }

        .atraso-info h4 {
            margin-bottom: 0.25rem;
            color: #333;
        }

        .atraso-info p {
            color: #666;
            font-size: 0.9rem;
        }

        .atraso-status {
            padding: 0.25rem 0.75rem;
            border-radius: 15px;
            font-size: 0.8rem;
            font-weight: 600;
        }

        .atraso-justificado {
            background: #d4edda;
            color: #155724;
        }

        .atraso-nao-justificado {
            background: #f8d7da;
            color: #721c24;
        }

        .no-data {
            text-align: center;
            color: #666;
            font-style: italic;
            padding: 2rem;
        }
    </style>
</head>
<body>
    <div class="dashboard-container">
        <header class="dashboard-header">
            <div class="header-left">
                <h1>Sistema IPMC - Estudante</h1>
            </div>
            <div class="header-right">
                <span id="userWelcome">Bem-vindo, Estudante</span>
                <button onclick="logout()" class="logout-btn">Sair</button>
            </div>
        </header>

        <div class="dashboard-content">
            <nav class="sidebar">
                <ul>
                    <li><a href="#dashboard" class="nav-link active" data-section="dashboard">Dashboard</a></li>
                    <li><a href="#meus-dados" class="nav-link" data-section="meus-dados">Meus Dados</a></li>
                    <li><a href="#notas" class="nav-link" data-section="notas">Notas e Avaliações</a></li>
                    <li><a href="#financeiro" class="nav-link" data-section="financeiro">Financeiro</a></li>
                    <li><a href="#atrasos" class="nav-link" data-section="atrasos">Atrasos e Faltas</a></li>
                    <li><a href="#estagios" class="nav-link" data-section="estagios">Estágios</a></li>
                </ul>
            </nav>

            <main class="main-content">
                <!-- Dashboard Section -->
                <section id="dashboard" class="content-section active">
                    <h2>Dashboard do Estudante</h2>
                    
                    <div class="info-card">
                        <h3>Informações da Turma</h3>
                        <div class="info-grid" id="infoTurma">
                            <!-- Informações serão carregadas via JavaScript -->
                        </div>
                    </div>

                    <div class="info-card">
                        <h3>Últimas Avaliações</h3>
                        <div id="ultimasAvaliacoes">
                            <!-- Avaliações recentes serão carregadas via JavaScript -->
                        </div>
                    </div>

                    <div class="info-card">
                        <h3>Próximas Atividades</h3>
                        <div id="proximasAtividades">
                            <!-- Atividades serão carregadas via JavaScript -->
                        </div>
                    </div>
                </section>

                <!-- Meus Dados Section -->
                <section id="meus-dados" class="content-section">
                    <h2>Meus Dados Pessoais</h2>
                    <div class="info-card">
                        <div class="info-grid" id="dadosPessoais">
                            <!-- Dados pessoais serão carregados via JavaScript -->
                        </div>
                    </div>

                    <div class="info-card">
                        <h3>Informações Acadêmicas</h3>
                        <div class="info-grid" id="dadosAcademicos">
                            <!-- Dados acadêmicos serão carregados via JavaScript -->
                        </div>
                    </div>
                </section>

                <!-- Notas Section -->
                <section id="notas" class="content-section">
                    <h2>Notas e Avaliações</h2>
                    <div class="info-card">
                        <h3>Resumo de Notas</h3>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Média Geral</span>
                                <span class="info-value" id="mediaGeral">-</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Total de Avaliações</span>
                                <span class="info-value" id="totalAvaliacoes">0</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Situação</span>
                                <span class="info-value" id="situacaoAcademica">-</span>
                            </div>
                        </div>
                    </div>

                    <div class="info-card">
                        <h3>Detalhes das Avaliações</h3>
                        <table class="notas-table">
                            <thead>
                                <tr>
                                    <th>Disciplina</th>
                                    <th>Tipo</th>
                                    <th>Data</th>
                                    <th>Nota</th>
                                    <th>Peso</th>
                                    <th>Status</th>
                                </tr>
                            </thead>
                            <tbody id="tabelaNotas">
                                <!-- Notas serão carregadas via JavaScript -->
                            </tbody>
                        </table>
                    </div>
                </section>

                <!-- Financeiro Section -->
                <section id="financeiro" class="content-section">
                    <h2>Informações Financeiras</h2>
                    <div class="financeiro-grid">
                        <div class="financeiro-card">
                            <h4>Mensalidades</h4>
                            <div id="listaMensalidades">
                                <!-- Mensalidades serão carregadas via JavaScript -->
                            </div>
                        </div>

                        <div class="financeiro-card">
                            <h4>Pagamentos Pendentes</h4>
                            <div id="pagamentosPendentes">
                                <!-- Pagamentos pendentes serão carregados via JavaScript -->
                            </div>
                        </div>

                        <div class="financeiro-card">
                            <h4>Histórico de Pagamentos</h4>
                            <div id="historicoPagamentos">
                                <!-- Histórico será carregado via JavaScript -->
                            </div>
                        </div>
                    </div>
                </section>

                <!-- Atrasos Section -->
                <section id="atrasos" class="content-section">
                    <h2>Atrasos e Faltas</h2>
                    <div class="info-card">
                        <h3>Resumo de Frequência</h3>
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Total de Faltas</span>
                                <span class="info-value" id="totalFaltas">0</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Faltas Justificadas</span>
                                <span class="info-value" id="faltasJustificadas">0</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Percentual de Frequência</span>
                                <span class="info-value" id="percentualFrequencia">100%</span>
                            </div>
                        </div>
                    </div>

                    <div class="info-card">
                        <h3>Registro de Atrasos</h3>
                        <div class="atrasos-list" id="listaAtrasos">
                            <!-- Atrasos serão carregados via JavaScript -->
                        </div>
                    </div>
                </section>

                <!-- Estágios Section -->
                <section id="estagios" class="content-section">
                    <h2>Estágios</h2>
                    <div class="info-card">
                        <h3>Meus Estágios</h3>
                        <div id="meusEstagios">
                            <!-- Estágios serão carregados via JavaScript -->
                        </div>
                    </div>
                </section>
            </main>
        </div>
    </div>

    <script>
        class EstudanteSystem {
            constructor() {
                this.currentUser = null;
                this.estudanteData = null;
                this.init();
            }

            init() {
                this.checkAuth();
                this.setupEventListeners();
                this.loadDashboardData();
            }

            checkAuth() {
                const savedUser = localStorage.getItem('ipmc_currentUser');
                if (!savedUser) {
                    window.location.href = 'index.html';
                    return;
                }

                this.currentUser = JSON.parse(savedUser);
                if (this.currentUser.profile !== 'estudante') {
                    window.location.href = 'index.html';
                    return;
                }

                // Carregar dados específicos do estudante
                this.carregarDadosEstudante();
                
                document.getElementById('userWelcome').textContent = 
                    `Bem-vindo, ${this.currentUser.personalInfo?.nome || 'Estudante'}`;
            }

            carregarDadosEstudante() {
                const estudantes = JSON.parse(localStorage.getItem('ipmc_estudantes') || '[]');
                this.estudanteData = estudantes.find(e => e.userId === this.currentUser.id);
            }

            setupEventListeners() {
                // Navegação
                document.querySelectorAll('.nav-link').forEach(link => {
                    link.addEventListener('click', (e) => {
                        e.preventDefault();
                        this.showSection(link.dataset.section);
                    });
                });
            }

            showSection(sectionId) {
                document.querySelectorAll('.content-section').forEach(section => {
                    section.classList.remove('active');
                });

                document.querySelectorAll('.nav-link').forEach(link => {
                    link.classList.remove('active');
                });

                document.getElementById(sectionId).classList.add('active');
                document.querySelector(`[data-section="${sectionId}"]`).classList.add('active');

                // Carregar dados específicos da seção
                if (sectionId === 'meus-dados') {
                    this.loadDadosPessoais();
                } else if (sectionId === 'notas') {
                    this.loadNotas();
                } else if (sectionId === 'financeiro') {
                    this.loadFinanceiro();
                } else if (sectionId === 'atrasos') {
                    this.loadAtrasos();
                } else if (sectionId === 'estagios') {
                    this.loadEstagios();
                }
            }

            loadDashboardData() {
                this.loadInfoTurma();
                this.loadUltimasAvaliacoes();
                this.loadProximasAtividades();
            }

            loadInfoTurma() {
                if (!this.estudanteData) return;

                const turmas = JSON.parse(localStorage.getItem('ipmc_turmas') || '[]');
                const turma = turmas.find(t => t.id === this.estudanteData.turmaId);
                
                if (!turma) return;

                const cursos = JSON.parse(localStorage.getItem('ipmc_cursos') || '[]');
                const curso = cursos.find(c => c.id === turma.cursoId);
                const tutor = this.getTutor(turma.tutorId);

                document.getElementById('infoTurma').innerHTML = `
                    <div class="info-item">
                        <span class="info-label">Turma</span>
                        <span class="info-value">${turma.nome}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Curso</span>
                        <span class="info-value">${curso ? curso.nome : 'N/A'}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Sala</span>
                        <span class="info-value">${turma.sala}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Período</span>
                        <span class="info-value">${turma.periodo}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Tutor</span>
                        <span class="info-value">${tutor || 'N/A'}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Ano Letivo</span>
                        <span class="info-value">${turma.anoLetivo}</span>
                    </div>
                `;
            }

            loadUltimasAvaliacoes() {
                const avaliacoes = this.getMinhasAvaliacoes().slice(0, 5);
                const container = document.getElementById('ultimasAvaliacoes');
                
                if (avaliacoes.length === 0) {
                    container.innerHTML = '<p class="no-data">Nenhuma avaliação encontrada</p>';
                    return;
                }

                container.innerHTML = avaliacoes.map(avaliacao => `
                    <div class="atraso-item">
                        <div class="atraso-info">
                            <h4>${avaliacao.disciplina} - ${avaliacao.tipo}</h4>
                            <p>Data: ${this.formatDate(avaliacao.data)} | Nota: ${avaliacao.notas[this.currentUser.id] || 'N/A'}</p>
                        </div>
                        <div class="atraso-status ${this.getStatusNota(avaliacao.notas[this.currentUser.id])}">
                            ${this.getStatusNota(avaliacao.notas[this.currentUser.id])}
                        </div>
                    </div>
                `).join('');
            }

            loadProximasAtividades() {
                // Simular atividades
                const atividades = [
                    { tipo: 'Prova', disciplina: 'Matemática', data: '2024-02-15' },
                    { tipo: 'Trabalho', disciplina: 'Programação', data: '2024-02-20' },
                    { tipo: 'Apresentação', disciplina: 'Gestão', data: '2024-02-25' }
                ];

                const container = document.getElementById('proximasAtividades');
                container.innerHTML = atividades.map(atividade => `
                    <div class="atraso-item">
                        <div class="atraso-info">
                            <h4>${atividade.tipo} - ${atividade.disciplina}</h4>
                            <p>Data: ${this.formatDate(atividade.data)}</p>
                        </div>
                    </div>
                `).join('');
            }

            loadDadosPessoais() {
                document.getElementById('dadosPessoais').innerHTML = `
                    <div class="info-item">
                        <span class="info-label">Nome Completo</span>
                        <span class="info-value">${this.currentUser.personalInfo.nome}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Data de Nascimento</span>
                        <span class="info-value">${this.formatDate(this.currentUser.personalInfo.dataNascimento)}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Bilhete de Identidade</span>
                        <span class="info-value">${this.currentUser.personalInfo.bilheteIdentidade}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Contacto</span>
                        <span class="info-value">${this.currentUser.personalInfo.contacto}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Email</span>
                        <span class="info-value">${this.currentUser.personalInfo.email}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Residência</span>
                        <span class="info-value">${this.currentUser.personalInfo.residencia}</span>
                    </div>
                `;

                document.getElementById('dadosAcademicos').innerHTML = `
                    <div class="info-item">
                        <span class="info-label">Número de Matrícula</span>
                        <span class="info-value">${this.estudanteData?.matricula || 'N/A'}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Data de Matrícula</span>
                        <span class="info-value">${this.formatDate(this.estudanteData?.dataMatricula)}</span>
                    </div>
                    <div class="info-item">
                        <span class="info-label">Status</span>
                        <span class="info-value">${this.estudanteData?.status || 'Ativo'}</span>
                    </div>
                `;
            }

            loadNotas() {
                const avaliacoes = this.getMinhasAvaliacoes();
                const media = this.calcularMedia(avaliacoes);
                
                document.getElementById('mediaGeral').textContent = media.toFixed(1);
                document.getElementById('totalAvaliacoes').textContent = avaliacoes.length;
                document.getElementById('situacaoAcademica').textContent = 
                    media >= 10 ? 'Aprovado' : 'Em Risco';

                const tabela = document.getElementById('tabelaNotas');
                tabela.innerHTML = avaliacoes.map(avaliacao => {
                    const nota = avaliacao.notas[this.currentUser.id];
                    return `
                        <tr>
                            <td>${avaliacao.disciplina}</td>
                            <td>${avaliacao.tipo}</td>
                            <td>${this.formatDate(avaliacao.data)}</td>
                            <td class="${this.getClassNota(nota)}">${nota || 'N/A'}</td>
                            <td>${avaliacao.peso}%</td>
                            <td>${avaliacao.finalizada ? 'Finalizada' : 'Pendente'}</td>
                        </tr>
                    `;
                }).join('');
            }

            loadFinanceiro() {
                // Simular dados financeiros
                const mensalidades = [
                    { mes: 'Janeiro 2024', valor: 50000, status: 'Pago', vencimento: '2024-01-10' },
                    { mes: 'Fevereiro 2024', valor: 50000, status: 'Pendente', vencimento: '2024-02-10' },
                    { mes: 'Março 2024', valor: 50000, status: 'Pendente', vencimento: '2024-03-10' }
                ];

                document.getElementById('listaMensalidades').innerHTML = mensalidades.map(msg => `
                    <div class="atraso-item">
                        <div class="atraso-info">
                            <h4>${msg.mes}</h4>
                            <p>Valor: ${msg.valor} KZ | Vencimento: ${this.formatDate(msg.vencimento)}</p>
                        </div>
                        <span class="${msg.status === 'Pago' ? 'status-pago' : 'status-pendente'}">
                            ${msg.status}
                        </span>
                    </div>
                `).join('');

                const pendentes = mensalidades.filter(msg => msg.status === 'Pendente');
                document.getElementById('pagamentosPendentes').innerHTML = pendentes.map(msg => `
                    <div class="atraso-item">
                        <div class="atraso-info">
                            <h4>${msg.mes}</h4>
                            <p>Valor: ${msg.valor} KZ</p>
                        </div>
                    </div>
                `).join('');

                const historico = mensalidades.filter(msg => msg.status === 'Pago');
                document.getElementById('historicoPagamentos').innerHTML = historico.map(msg => `
                    <div class="atraso-item">
                        <div class="atraso-info">
                            <h4>${msg.mes}</h4>
                            <p>Pago em: ${this.formatDate(msg.vencimento)}</p>
                        </div>
                    </div>
                `).join('');
            }

            loadAtrasos() {
                // Simular dados de atrasos
                const atrasos = [
                    { data: '2024-01-15', disciplina: 'Matemática', justificativa: 'Consulta médica', status: 'justificado' },
                    { data: '2024-01-20', disciplina: 'Programação', justificativa: '', status: 'não justificado' }
                ];

                document.getElementById('totalFaltas').textContent = atrasos.length;
                document.getElementById('faltasJustificadas').textContent = 
                    atrasos.filter(a => a.status === 'justificado').length;
                document.getElementById('percentualFrequencia').textContent = '85%';

                document.getElementById('listaAtrasos').innerHTML = atrasos.map(atraso => `
                    <div class="atraso-item">
                        <div class="atraso-info">
                            <h4>${atraso.disciplina}</h4>
                            <p>Data: ${this.formatDate(atraso.data)}</p>
                            ${atraso.justificativa ? `<p>Justificativa: ${atraso.justificativa}</p>` : ''}
                        </div>
                        <span class="atraso-status atraso-${atraso.status}">
                            ${atraso.status === 'justificado' ? 'Justificado' : 'Não Justificado'}
                        </span>
                    </div>
                `).join('');
            }

            loadEstagios() {
                const estagios = this.getMeusEstagios();
                const container = document.getElementById('meusEstagios');
                
                if (estagios.length === 0) {
                    container.innerHTML = '<p class="no-data">Nenhum estágio registrado</p>';
                    return;
                }

                container.innerHTML = estagios.map(estagio => `
                    <div class="info-card">
                        <div class="info-grid">
                            <div class="info-item">
                                <span class="info-label">Empresa</span>
                                <span class="info-value">${estagio.empresa}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Supervisor</span>
                                <span class="info-value">${estagio.supervisor}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Período</span>
                                <span class="info-value">${this.formatDate(estagio.dataInicio)} a ${this.formatDate(estagio.dataFim)}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Avaliação</span>
                                <span class="info-value">${estagio.avaliacao || 'N/A'}</span>
                            </div>
                            <div class="info-item">
                                <span class="info-label">Status</span>
                                <span class="info-value">${estagio.status}</span>
                            </div>
                        </div>
                    </div>
                `).join('');
            }

            // Métodos auxiliares
            getMinhasAvaliacoes() {
                const avaliacoes = JSON.parse(localStorage.getItem('ipmc_avaliacoes') || '[]');
                return avaliacoes.filter(a => a.notas && a.notas[this.currentUser.id] !== undefined);
            }

            getMeusEstagios() {
                return JSON.parse(localStorage.getItem('ipmc_estagios') || '[]')
                    .filter(e => e.estudanteId === this.currentUser.id);
            }

            getTutor(tutorId) {
                const users = JSON.parse(localStorage.getItem('ipmc_users') || '[]');
                const tutor = users.find(u => u.id === tutorId);
                return tutor ? tutor.personalInfo.nome : null;
            }

            calcularMedia(avaliacoes) {
                if (avaliacoes.length === 0) return 0;
                
                const soma = avaliacoes.reduce((total, avaliacao) => {
                    const nota = avaliacao.notas[this.currentUser.id];
                    return total + (nota || 0);
                }, 0);
                
                return soma / avaliacoes.length;
            }

            getStatusNota(nota) {
                if (!nota) return 'pendente';
                if (nota < 10) return 'reprovado';
                if (nota < 14) return 'suficiente';
                return 'bom';
            }

            getClassNota(nota) {
                if (!nota) return '';
                if (nota < 10) return 'nota-baixa';
                if (nota < 14) return 'nota-media';
                return 'nota-alta';
            }

            formatDate(dateString) {
                if (!dateString) return 'N/A';
                return new Date(dateString).toLocaleDateString('pt-PT');
            }
        }

        // Função global para logout
        function logout() {
            localStorage.removeItem('ipmc_currentUser');
            window.location.href = 'index.html';
        }

        // Inicializar sistema do estudante
        const estudanteSystem = new EstudanteSystem();
    </script>
</body>
</html>