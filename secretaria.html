<!DOCTYPE html>
<html lang="pt">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Painel da Secretaria - Sistema IPMC</title>
    <link rel="stylesheet" href="assets/css/style.css">
</head>
<body>
    <div class="dashboard-container">
        <!-- Header -->
        <header class="dashboard-header">
            <div class="header-left">
                <h1>Sistema IPMC - Secretaria</h1>
            </div>
            <div class="header-right">
                <span id="userWelcome">Bem-vindo, Secretaria</span>
                <button onclick="logout()" class="logout-btn">Sair</button>
            </div>
        </header>

        <div class="dashboard-content">
            <!-- Sidebar -->
            <nav class="sidebar">
                <ul>
                    <li><a href="#dashboard" class="nav-link active" data-section="dashboard">Dashboard</a></li>
                    <li><a href="#criar-curso" class="nav-link" data-section="criar-curso">Criar Curso</a></li>
                    <li><a href="#gerenciar-cursos" class="nav-link" data-section="gerenciar-cursos">Gerir Cursos</a></li>
                    <li><a href="#criar-turma" class="nav-link" data-section="criar-turma">Criar Turma</a></li>
                    <li><a href="#gerenciar-turmas" class="nav-link" data-section="gerenciar-turmas">Gerir Turmas</a></li>
                    <li><a href="#matricular-estudante" class="nav-link" data-section="matricular-estudante">Matricular Estudante</a></li>
                </ul>
            </nav>

            <!-- Main Content -->
            <main class="main-content">
                <!-- Dashboard Section -->
                <section id="dashboard" class="content-section active">
                    <h2>Dashboard da Secretaria</h2>
                    <div class="stats-grid">
                        <div class="stat-card">
                            <h3>Cursos Ativos</h3>
                            <span id="cursosAtivos" class="stat-number">0</span>
                        </div>
                        <div class="stat-card">
                            <h3>Turmas Criadas</h3>
                            <span id="turmasCriadas" class="stat-number">0</span>
                        </div>
                        <div class="stat-card">
                            <h3>Turmas Pendentes</h3>
                            <span id="turmasPendentes" class="stat-number">0</span>
                        </div>
                        <div class="stat-card">
                            <h3>Estudantes Matriculados</h3>
                            <span id="estudantesMatriculados" class="stat-number">0</span>
                        </div>
                    </div>

                    <div class="recent-activity">
                        <h3>Turmas Aguardando Validação</h3>
                        <div id="turmasAguardandoValidacao" class="activity-list">
                            <!-- Turmas pendentes serão carregadas via JavaScript -->
                        </div>
                    </div>
                </section>

                <!-- Criar Curso Section -->
                <section id="criar-curso" class="content-section">
                    <h2>Criar Novo Curso</h2>
                    <form id="formCurso" class="user-form">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="cursoNome">Nome do Curso *</label>
                                <input type="text" id="cursoNome" name="nome" required>
                            </div>
                            <div class="form-group">
                                <label for="cursoCodigo">Código do Curso *</label>
                                <input type="text" id="cursoCodigo" name="codigo" required>
                            </div>
                            <div class="form-group">
                                <label for="cursoDuracao">Duração (meses) *</label>
                                <input type="number" id="cursoDuracao" name="duracao" min="1" required>
                            </div>
                            <div class="form-group">
                                <label for="cursoArea">Área de Formação *</label>
                                <select id="cursoArea" name="area" required>
                                    <option value="">Selecione a área</option>
                                    <option value="Tecnologia">Tecnologia da Informação</option>
                                    <option value="Gestao">Gestão e Administração</option>
                                    <option value="Saude">Saúde</option>
                                    <option value="Engenharia">Engenharia</option>
                                    <option value="Humanidades">Humanidades</option>
                                    <option value="Artes">Artes e Design</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="cursoTipo">Tipo de Curso *</label>
                                <select id="cursoTipo" name="tipo" required>
                                    <option value="">Selecione o tipo</option>
                                    <option value="Tecnico">Curso Técnico</option>
                                    <option value="Profissional">Curso Profissional</option>
                                    <option value="Livre">Curso Livre</option>
                                    <option value="Superior">Curso Superior</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="cursoDescricao">Descrição do Curso</label>
                                <textarea id="cursoDescricao" name="descricao" rows="3"></textarea>
                            </div>
                        </div>

                        <div class="disciplinas-section">
                            <h3>Disciplinas do Curso</h3>
                            <div id="disciplinasContainer">
                                <div class="disciplina-item">
                                    <input type="text" name="disciplinas[]" placeholder="Nome da disciplina" required>
                                    <input type="number" name="cargasHorarias[]" placeholder="Carga horária (horas)" min="1" required>
                                    <button type="button" class="remove-disciplina" onclick="removerDisciplina(this)">×</button>
                                </div>
                            </div>
                            <button type="button" class="add-disciplina-btn" onclick="adicionarDisciplina()">+ Adicionar Disciplina</button>
                        </div>

                        <button type="submit" class="submit-btn">Criar Curso</button>
                    </form>
                </section>

                <!-- Gerir Cursos Section -->
                <section id="gerenciar-cursos" class="content-section">
                    <h2>Gerir Cursos</h2>
                    <div class="cursos-container">
                        <div id="cursosList" class="cursos-grid">
                            <!-- Cursos serão carregados via JavaScript -->
                        </div>
                    </div>
                </section>

                <!-- Criar Turma Section -->
                <section id="criar-turma" class="content-section">
                    <h2>Criar Nova Turma</h2>
                    <form id="formTurma" class="user-form">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="turmaCurso">Curso *</label>
                                <select id="turmaCurso" name="cursoId" required>
                                    <option value="">Selecione o curso</option>
                                    <!-- Cursos serão carregados via JavaScript -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="turmaNome">Nome da Turma *</label>
                                <input type="text" id="turmaNome" name="nome" required>
                            </div>
                            <div class="form-group">
                                <label for="turmaSala">Número da Sala *</label>
                                <input type="text" id="turmaSala" name="sala" required>
                            </div>
                            <div class="form-group">
                                <label for="turmaPeriodo">Período de Estudo *</label>
                                <select id="turmaPeriodo" name="periodo" required>
                                    <option value="">Selecione o período</option>
                                    <option value="Manhã">Manhã</option>
                                    <option value="Tarde">Tarde</option>
                                    <option value="Noite">Noite</option>
                                    <option value="Integral">Integral</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="turmaVagas">Número de Vagas *</label>
                                <input type="number" id="turmaVagas" name="vagas" min="1" max="50" required>
                            </div>
                            <div class="form-group">
                                <label for="turmaAnoLetivo">Ano Letivo *</label>
                                <input type="number" id="turmaAnoLetivo" name="anoLetivo" min="2024" max="2030" value="2024" required>
                            </div>
                            <div class="form-group">
                                <label for="turmaDataInicio">Data de Início *</label>
                                <input type="date" id="turmaDataInicio" name="dataInicio" required>
                            </div>
                            <div class="form-group">
                                <label for="turmaDataFim">Data de Término *</label>
                                <input type="date" id="turmaDataFim" name="dataFim" required>
                            </div>
                        </div>

                        <button type="submit" class="submit-btn">Criar Turma</button>
                    </form>
                </section>

                <!-- Gerir Turmas Section -->
                <section id="gerenciar-turmas" class="content-section">
                    <h2>Gerir Turmas</h2>
                    <div class="filtros-turmas">
                        <select id="filtroStatus" onchange="secretariaSystem.filtrarTurmas()">
                            <option value="todas">Todas as Turmas</option>
                            <option value="pendente">Pendentes</option>
                            <option value="validada">Validadas</option>
                            <option value="recusada">Recusadas</option>
                        </select>
                    </div>
                    <div class="turmas-container">
                        <div id="turmasList" class="turmas-grid">
                            <!-- Turmas serão carregadas via JavaScript -->
                        </div>
                    </div>
                </section>

                <!-- Matricular Estudante Section -->
                <section id="matricular-estudante" class="content-section">
                    <h2>Matricular Novo Estudante</h2>
                    <form id="formEstudante" class="user-form">
                        <div class="form-grid">
                            <div class="form-group">
                                <label for="estudanteNome">Nome Completo *</label>
                                <input type="text" id="estudanteNome" name="nome" required>
                            </div>
                            <div class="form-group">
                                <label for="estudanteDataNasc">Data de Nascimento *</label>
                                <input type="date" id="estudanteDataNasc" name="dataNascimento" required>
                            </div>
                            <div class="form-group">
                                <label for="estudanteGenero">Gênero *</label>
                                <select id="estudanteGenero" name="genero" required>
                                    <option value="">Selecione</option>
                                    <option value="M">Masculino</option>
                                    <option value="F">Feminino</option>
                                    <option value="O">Outro</option>
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="estudanteBI">Bilhete de Identidade *</label>
                                <input type="text" id="estudanteBI" name="bilheteIdentidade" required>
                            </div>
                            <div class="form-group">
                                <label for="estudanteContacto">Contacto *</label>
                                <input type="tel" id="estudanteContacto" name="contacto" required>
                            </div>
                            <div class="form-group">
                                <label for="estudanteEmail">Email *</label>
                                <input type="email" id="estudanteEmail" name="email" required>
                            </div>
                            <div class="form-group">
                                <label for="estudanteResidencia">Residência *</label>
                                <input type="text" id="estudanteResidencia" name="residencia" required>
                            </div>
                            <div class="form-group">
                                <label for="estudanteTurma">Turma *</label>
                                <select id="estudanteTurma" name="turmaId" required>
                                    <option value="">Selecione a turma</option>
                                    <!-- Turmas validadas serão carregadas via JavaScript -->
                                </select>
                            </div>
                            <div class="form-group">
                                <label for="estudanteUsername">Username *</label>
                                <input type="text" id="estudanteUsername" name="username" required>
                            </div>
                            <div class="form-group">
                                <label for="estudantePassword">Senha *</label>
                                <input type="password" id="estudantePassword" name="password" required>
                            </div>
                        </div>

                        <button type="submit" class="submit-btn">Matricular Estudante</button>
                    </form>
                </section>
            </main>
        </div>
    </div>

    <script src="assets/js/database.js"></script>
    <script src="assets/js/auth.js"></script>
    <script src="assets/js/secretaria.js"></script>
</body>
    </html>
